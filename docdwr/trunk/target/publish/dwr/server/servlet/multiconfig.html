<!DOCTYPE html>
<html>
<head>
  <title>Multiple dwr.xml files</title>
  <meta name='alias' content='/dwr/server/servlet/multiconfig'>
  <link rel="stylesheet" type="text/css" href="../../media/styles.css">
  <script type='text/javascript' src='../../../dwr/media/dojo.js'> </script>
  <script type='text/javascript' src='../../../dwr/media/menu.js'> </script>
</head>
<body>
<div id='header'><a href='http://directwebremoting.org/dwr/'>Direct Web Remoting</a></div>
<div id=pagelinks>
<div class='navlinks'>[ 
<a href='/dwr' title='Easy Ajax for Java'>DWR</a> | 
<a href='/blog/joe' title='Joe&#039;s Blog about DWR and Ajax'>Blog</a>
 ]
<form method='GET' action='http://www.google.com/search' id='search-form'>
<span id='search'>
<input class='form-text' type='text' id='search-box' name='as_q' size='20' maxlength='255'>
<input type='hidden' name='as_sitesearch' value='directwebremoting.org'/>
<input class='form-submit' type='submit' value='Google'/>
</span>
</form>
</div>
<div id='breadcrumbs'><a href='../../../dwr/index.html'>DWR - Easy Ajax for JAVA</a> &#x00BB; <a href='../../../dwr/server/index.html'>Server Side</a> &#x00BB; <a href='../../../dwr/server/servlet/index.html'>WEB-INF Reference</a> &#x00BB; <a href='multiconfig.html' class='currentLink'>Multiple dwr.xml files</a></div></div>

<h3>Multiple dwr.xml files and Java EE security</h3>

<p>Generally speaking you will only need one dwr.xml file and that will be in the default position: <code>WEB-INF/dwr.xml</code>. So you can leave this parameter out.</p>

<p>There are 3 reasons why you might wish to specify a different position for dwr.xml:</p>

<!--break-->

<ul>

<li>You wish to keep dwr.xml with the files that it gives access to.  In which case the section might have a param-value something like <code>&lt;param-value&gt;WEB-INF/classes/com/yourco/dwr/dwr.xml&lt;/param-value&gt;</code>.</li>

<li>You may have a large number of remoted classes and wish to keep the definitions in separate files. In this case you will have the section above repeated several times each with a different <code>param-name</code> that begins 'config' and each pointing at a different file. DWR will read them all in turn.</li>

<li>DWR can use J2EE URL security built into the servlet spec to give different groups of users access to different functions. You simply define more than one dwr servlet by repeating the stanza at the top of the page with different names, urls and permissions.</li>

</ul>

<p>If you do wish to use it then the syntax is as follows:</p>

<pre>
&lt;init-param&gt;
  &lt;param-name&gt;config*****&lt;/param-name&gt;
  &lt;param-value&gt;WEB-INF/dwr.xml&lt;/param-value&gt;
  &lt;description&gt;What config file do we use?&lt;/description&gt;
&lt;/init-param&gt;
</pre>

<p>Where config***** means any param-name that begins with the string 'config'. This parameter can be specified as many times as required, however the <code>param-name</code> should be different for each.</p>

<p>An example configuration to use J2EE servlet security is as follows:</p>

<pre>
&lt;servlet&gt;
  &lt;servlet-name&gt;dwr-user-invoker&lt;/servlet-name&gt;
  &lt;servlet-class&gt;uk.ltd.getahead.dwr.DWRServlet&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;config-user&lt;/param-name&gt;
    &lt;param-value&gt;WEB-INF/dwr-user.xml&lt;/param-value&gt;
  &lt;/init-param&gt;
&lt;/servlet&gt;
&lt;servlet&gt;
  &lt;servlet-name&gt;dwr-admin-invoker&lt;/servlet-name&gt;
  &lt;servlet-class&gt;uk.ltd.getahead.dwr.DWRServlet&lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;config-admin&lt;/param-name&gt;
    &lt;param-value&gt;WEB-INF/dwr-admin.xml&lt;/param-value&gt;
  &lt;/init-param&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;dwr-admin-invoker&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/dwradmin/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;dwr-user-invoker&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/dwruser/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

&lt;security-constraint&gt;
  &lt;display-name&gt;dwr-admin&lt;/display-name&gt;
  &lt;web-resource-collection&gt;
    &lt;web-resource-name&gt;dwr-admin-collection&lt;/web-resource-name&gt;
    &lt;url-pattern&gt;/dwradmin/*&lt;/url-pattern&gt;
  &lt;/web-resource-collection&gt;
  &lt;auth-constraint&gt;
    &lt;role-name&gt;admin&lt;/role-name&gt;
  &lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
&lt;security-constraint&gt;
  &lt;display-name&gt;dwr-user&lt;/display-name&gt;
  &lt;web-resource-collection&gt;
    &lt;web-resource-name&gt;dwr-user-collection&lt;/web-resource-name&gt;
    &lt;url-pattern&gt;/dwruser/*&lt;/url-pattern&gt;
  &lt;/web-resource-collection&gt;
  &lt;auth-constraint&gt;
    &lt;role-name&gt;user&lt;/role-name&gt;
  &lt;/auth-constraint&gt;
&lt;/security-constraint&gt;
</pre>


<ul class='menu' id='nav'>
<li class='noChildren'><a href='../../../dwr/index.html'>Home</a></li>
<li class='noChildren'><a href='../../../dwr/download.html'>Download</a></li>
<li class='hasChildren'><a href='../../../dwr/browser/index.html'>Client Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/browser/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/browser/tibco.html'>DWR and TIBCO</a></li>
<li class='hasChildren'><a href='../../../dwr/browser/engine/index.html'>engine.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/browser/engine/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/static.html'>Caching engine.js</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/batch.html'>Call Batching</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/ordering.html'>Call Ordering</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/errors.html'>Errors and Timeouts</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/hooks.html'>Remoting Hooks</a></li>
<li class='noChildren'><a href='../../../dwr/browser/engine/options.html'>Remoting Options</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/browser/gi.html'>gi.js</a></li>
<li class='hasChildren'><a href='../../../dwr/browser/util/index.html'>util.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/browser/util/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/lists.html'>List Manipulation</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/$.html'>$()</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/tables.html'>Table Manipulation</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/addOptions.html'>addOptions</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/addRows.html'>addRows</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/byId.html'>byId()</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/escapeHtml.html'>escapeHtml</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/getText.html'>getText</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/getValue.html'>getValue</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/getValues.html'>getValues</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/onReturn.html'>onReturn</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/removeAllOptions.html'>removeAllOptions</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/removeAllRows.html'>removeAllRows</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/selectRange.html'>selectRange</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/setValue.html'>setValue</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/setValues.html'>setValues</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/toDescriptiveString.html'>toDescriptiveString</a></li>
<li class='noChildren'><a href='../../../dwr/browser/util/useLoadingMessage.html'>useLoadingMessage</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/browser/extra-data.html'>Callbacks and Scoping</a></li>
<li class='noChildren'><a href='../../../dwr/browser/other.html'>Submission box</a></li>
<li class='noChildren'><a href='../../../dwr/browser/support.html'>Browser Support</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/reverse-ajax/index.html'>Reverse Ajax&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/reverse-ajax/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/reverse-ajax/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../dwr/reverse-ajax/configuration.html'>Configuring</a></li>
<li class='noChildren'><a href='../../../dwr/reverse-ajax/threads.html'>Non-Web Threads</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/development/index.html'>Development&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/development/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../dwr/development/contributor/index.html'>Contributors&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/development/contributor/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/development/contributor/contract.html'>The Maintainer Contract</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/development/notes/index.html'>Developers Notes&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/development/notes/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/development/notes/batch-data.html'>DWREngine data </a></li>
<li class='noChildren'><a href='../../../dwr/development/notes/design.html'>Design Notes</a></li>
<li class='noChildren'><a href='../../../dwr/development/notes/engine.html'>Engine.js Notes</a></li>
<li class='noChildren'><a href='../../../dwr/development/notes/poll-actions.html'>Polling Actions</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/development/ccla.html'>CLA for Corporations</a></li>
<li class='noChildren'><a href='../../../dwr/development/icla.html'>CLA for Individuals</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/other/index.html'>Other Topics&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/other/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/other/fixes.html'>Common Problems</a></li>
<li class='hasChildren'><a href='../../../dwr/other/changelog/index.html'>Change Log&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/other/changelog/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr20.html'>New in v2.0</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr20m2.html'>New in v2.0m2</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr20m1.html'>New in v2.0m1</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr11.html'>New in v1.1</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr20m3.html'>New in v2.0m3</a></li>
<li class='noChildren'><a href='../../../dwr/other/changelog/dwr30.html'>New in v3.0</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/other/glossary.html'>Glossary</a></li>
<li class='noChildren'><a href='../../../dwr/other/elsewhere.html'>Tutorials Elsewhere</a></li>
<li class='hasChildren'><a href='../../../dwr/other/upgrading/index.html'>Upgrading DWR&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/other/upgrading/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/other/upgrading/dwr20.html'>Upgrading to Version 2.0</a></li>
<li class='noChildren'><a href='../../../dwr/other/upgrading/dwr30.html'>Upgrading to Version 3.0</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/other/errors.html'>Error Handling</a></li>
<li class='noChildren'><a href='../../../dwr/other/related.html'>Related Projects</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/introduction/index.html'>Overview&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/introduction/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/introduction/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../dwr/introduction/scripting-dwr.html'>Scripting DWR</a></li>
<li class='noChildren'><a href='../../../dwr/introduction/tutorials.html'>Tutorials and Examples</a></li>
<li class='noChildren'><a href='../../../dwr/introduction/live.html'>Who is using DWR</a></li>
<li class='noChildren'><a href='../../../dwr/introduction/hints.html'>Hints and Tips</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/security/index.html'>Security&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/security/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/security/script-tag-protection.html'>JavaScript Security</a></li>
<li class='noChildren'><a href='../../../dwr/security/allowGetForSafariButMakeForgeryEasier.html'>Safari, GET and CSRF</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/server/index.html'>Server Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/server/fluent.html'>Fluent Configuration</a></li>
<li class='noChildren'><a href='../../../dwr/server/annotations.html'>Annotations</a></li>
<li class='hasChildren'><a href='../../../dwr/server/integration/index.html'>Integrating with ...&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/integration/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/jaxer.html'>Aptana Jaxer</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/guice.html'>Guice</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/hibernate.html'>Hibernate</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/spring.html'>Spring</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/struts.html'>Struts</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/webwork.html'>Webwork</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/jsf.html'>JSF</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/pageflow.html'>Pageflow / Beehive</a></li>
<li class='noChildren'><a href='../../../dwr/server/integration/xul.html'>XUL</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/server/environment.html'>Supported Environments</a></li>
<li class='hasChildren'><a href='../../../dwr/server/servlet/index.html'>WEB-INF Reference&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/servlet/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/server/servlet/logging.html'>Logging</a></li>
<li class='noChildren'><a href='multiconfig.html' class='currentLink'>Multiple dwr.xml files</a></li>
<li class='noChildren'><a href='../../../dwr/server/servlet/plugin.html'>Plug-ins</a></li>
<li class='noChildren'><a href='../../../dwr/server/servlet/test.html'>Test Mode</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/server/dwrxml/index.html'>dwr.xml&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../dwr/server/dwrxml/converters/index.html'>Converters&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/array.html'>Arrays</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/bean.html'>Beans / Objects</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/collection.html'>Collections</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/dom.html'>DOM Objects</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/enum.html'>Enum</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/converters/file.html'>Images and Binary Files</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../dwr/server/dwrxml/creators/index.html'>Creators&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/creators/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/creators/new.html'>'New' Creator</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/creators/scripted.html'>'Scripted' Creator</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/filters.html'>Filters</a></li>
<li class='noChildren'><a href='../../../dwr/server/dwrxml/signatures.html'>Signatures</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/server/generic.html'>Reading from other URLs</a></li>
<li class='noChildren'><a href='../../../dwr/server/javaapi.html'>Accessing Servlet Objects</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../dwr/support.html'>Support</a></li>
<li class='noChildren'><a href='../../../dwr/languages.html'>Non-English Docs</a></li>
<li class='noChildren'><a href='../../../dwr/documentation.html'>Doc Index</a></li>
</ul>
</body>
</html>
