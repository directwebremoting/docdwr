<!DOCTYPE html>
<html>
<head>
  <title>DWREngine data </title>
  <meta name='alias' content='/dwr/development/batchdata'>
  <link rel="stylesheet" type="text/css" href="../../media/styles.css">
</head>
<body>

<h2>Warning: Developer Pages</h2>

<p>This page is part of a set of pages aimed at DWR developers. If this isn't you, then you probably want the <a href="../../documentation.html">documentation index</a>.</p>

<h1>The Anatomy of a Batch</h1>

<p>The batch data structure has changed over time:</p>
<!--break-->

<h3>DWR 2.0RC1 and on</h3>

<pre>
dwr.engine._batch {
  async:&lt;true|false&gt;,
  completed:&lt;true|false&gt;,
  headers:{
    customHeaderName:customHeaderValue,
    ...
  },
  parameters:{
    customParameterName:customParameterValue,
    ...
  },
  ids:{
    id1:{
      callback:function() { ...}
      exceptionHandler:function() { ...}
    },
    ...
  },
  interval:{...},    // opaque type, only used with timeout
  map:{
    callCount:,
    cX-id:,
    cX-scriptName:,
    cX-methodName:,
    cX-paramY:,
  },
  method:,
  pageId:"...",
  paramCount:,
  path:,
  postHooks:[],
  preHooks:[],
  scriptSessionId:"...",
  httpSessionId:"...",
  timeout:&lt;0..&gt;,
  verb:&lt;&gt;
  errorHandler:function() { ...},
  warningHandler:function() { ...},
  textHtmlHandler:function() { ...},
}
</pre>

<h3>DWR 1.0 to 2.0m3</h3>

<pre>
dwr.engine._batch {
  async:&lt;true|false&gt;,
  completed:&lt;true|false&gt;,
  headers:{
    customHeaderName:customHeaderValue
  },
  ids:[id1, id2, ...],
  interval:{...},       // opaque type, only used with timeout
  map:{
    callCount:,
    cX-id:,
    cX-scriptName:,
    cX-methodName:,
    cX-paramY:,
  },
  method:,
  pageId:"...",
  paramCount:,
  path:,
  postHooks:[],
  preHooks:[],
  scriptSessionId:"...",
  httpSessionId:"...",
  timeout:&lt;0..&gt;,
  verb:&lt;&gt;
}
</pre>

<p>The handlers map contains a list of callbacks that are about to be called.</p>

<pre>
dwr.engine._handlersMap {
  id1:{
    errorHandler:function() { ...},
    warningHandler:function() { ...},
    callback:function() { ...}
  },
  id2:...
}
</pre>


</body>
</html>
