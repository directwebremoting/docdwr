<!DOCTYPE html>
<html>
<head>
  <title>Collection Converters</title>
  <meta name='alias' content='/dwr/server/dwrxml/converters/collection.html'>
  <meta name='navTitle' content='Collections'>
  <link rel="stylesheet" type="text/css" href="../../../../../media/styles.css">
</head>
<body>

<h1>Collection Converters</h1>

<p>The final 2 default converters are for maps and collections:</p>

<pre>
&lt;convert converter="collection" match="java.util.Collection"/&gt;
</pre>

<p>and</p>

<pre>&lt;convert converter="map" match="java.util.Map"/&gt;</pre>

<p>Generally speaking these converters will be able to recursively convert their contents.</p>

<p>There is a catch for these 2 however:</p>

<p>There is no way of knowing the underlying type of the collection just using reflection. So the 2 converters above can convert from any collection to something meaningful in JavaScript, however there is no way to know what sort of Collection to convert <b>to</b> going the other way.</p>

<p>Since we can't work it out automatically we may need to use the <a href="../signatures.html">special signatures syntax</a> in the dwr.xml file to allow us to hint types to the conversion process.</p>
<h2>Maps and null keys</h2>
<p>Javascript does not  support non string keys.  Because of this  a null key in a Map will not be converted.  DWR allows you to specify a String you would like to use when a null key is encountered.  To configure this you will need to override the default map converter in the allow section of your applications dwr.xml.
<pre><code>
&lt;convert converter=&quot;map&quot; match=&quot;java.util.Map&quot;&gt;
  &lt;param name=&quot;nullKey&quot; value=&quot;null&quot;/&gt;
&lt;/convert&gt;</code></pre> </p>
</body>
</html>
