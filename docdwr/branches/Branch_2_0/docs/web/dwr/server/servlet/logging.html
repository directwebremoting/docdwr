<!DOCTYPE html>
<html>
<head>
  <title>Logging</title>
  <meta name='alias' content='/dwr/server/servlet/logging'>
  <link rel="stylesheet" type="text/css" href="../../media/styles.css">
</head>
<body>

<h1>Logging</h1>

<h2>For DWR 3.x</h2>

<p>DWR depends on commons-logging and does all it's logging through that. For details on how to configure DWR logging, see the configuration information for the logging library that commons-logging is outputting to.</p>

<p>Out of the box, DWR 3 and up are silent about method invocations and exceptions. If you turn debug logging on you will get some output, but the best way to see what is going on is to use a LogAjaxFilter. The simplest way to configure this is to use the following line in dwr.xml:</p>

<pre>
&lt;dwr&gt;
  &lt;allow&gt;
    &lt;filter class="org.directwebremoting.filter.AuditLogAjaxFilter"/&gt;
    ...
</pre>

<p>This functionality is available from milestone 2.</p>

<h2>For DWR 1.x and 2.0</h2>

<p>DWR works in JDK 1.3 which does not support java.util.logging, but  we don't want to force anyone to use commons-logging or log4j, so DWR will work if no logging classes are present by using the HttpServlet.log() methods. However if DWR discovers commons-logging then it will use that in place of servlet logging.</p>

<p>In practice, almost everyone will be using <a href="http://jakarta.apache.org/commons/logging/">commons-logging</a> because many servlet containers use it. So even if your webapp isn't explicitly using commons-logging it is probably available by default.</p>

<h2>Configuring Log4J for DWR</h2>

<p>Debug logging can be enabled in DWR with the following:</p>

<pre>
log4j.logger.org.directwebremoting=DEBUG
</pre>

<p>See the <a href="http://logging.apache.org/log4j/docs/documentation.html">log4j documentation</a> for more details.</p>

<h3>Configuring java.util.logging for DWR</h3>

<p>See the <a href="http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html">java.util.logging documentation</a> for more details.</p>

<h3>HttpServlet.log()</h3>

<p>If you are using HttpServlet.log() (DWR 1.x and 2.0 only), the following stanza controls DWR logging:</p>

<pre>
&lt;init-param&gt;
 &lt;param-name&gt;logLevel&lt;/param-name&gt;
 &lt;param-value&gt;DEBUG&lt;/param-value&gt;
&lt;/init-param&gt;
</pre>

<p>The valid values are: FATAL, ERROR, WARN (the default), INFO and DEBUG.</p>

</body>
</html>
